package fat12

import (
	"testing"

	"github.com/stretchr/testify/assert"
)

func TestGetUint12(t *testing.T) {
	ft := fatTable{0xfb, 0xff, 0xff, 0x03, 0x40, 0x01, 0xf1, 0x6f, 0x10, 0xff, 0x0e}
	assert.Equal(t, uint16(0x003), ft.getUint12(2))
	assert.Equal(t, uint16(0x014), ft.getUint12(3))
	assert.Equal(t, uint16(0xff1), ft.getUint12(4))
	assert.Equal(t, uint16(0x106), ft.getUint12(5))
	assert.Equal(t, uint16(0xeff), ft.getUint12(6))
}

func TestSetUint12(t *testing.T) {
	ft := fatTable{0xfb, 0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
	ft.setUint12(2, 0x003)
	ft.setUint12(3, 0x014)
	ft.setUint12(4, 0xff1)
	ft.setUint12(5, 0x106)
	ft.setUint12(6, 0xeff)
	assert.Equal(t, fatTable{0xfb, 0xff, 0xff, 0x03, 0x40, 0x01, 0xf1, 0x6f, 0x10, 0xff, 0x0e}, ft)
}
